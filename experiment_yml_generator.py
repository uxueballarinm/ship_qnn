import os
import yaml

# ==========================================
# 1. CONFIGURATION
# ==========================================

OUTPUT_DIR = "experiment_definitions/split_by_first_feature"

# A. FIXED PARAMS:
# These values are identical for EVERY experiment.
FIXED_PARAMS = {
    "maxiter": 5000,                    
    "optimizer": "cobyla",
    "encoding": "compact",
    "model": "vanilla",
    "predict": "delta",
    "window_size": 5,
    "horizon": 5,                    
    "reconstruct_val": False,         
    "save_plot": True,
    "entangle": "reverse_linear",
    "ansatz": "efficientsu2",
    "select_features": ["wv", "sv", "yr", "ya", "rarad", "map"]
}

# B. THE FULL MAP LIST (720 Permutations)
ALL_MAPS = [
    [0, 1, 2, 3, 4, -1], [0, 1, 2, 3, -1, 4], [0, 1, 2, 4, 3, -1], [0, 1, 2, 4, -1, 3], [0, 1, 2, -1, 3, 4], [0, 1, 2, -1, 4, 3],
    [0, 1, 3, 2, 4, -1], [0, 1, 3, 2, -1, 4], [0, 1, 3, 4, 2, -1], [0, 1, 3, 4, -1, 2], [0, 1, 3, -1, 2, 4], [0, 1, 3, -1, 4, 2],
    [0, 1, 4, 2, 3, -1], [0, 1, 4, 2, -1, 3], [0, 1, 4, 3, 2, -1], [0, 1, 4, 3, -1, 2], [0, 1, 4, -1, 2, 3], [0, 1, 4, -1, 3, 2],
    [0, 1, -1, 2, 3, 4], [0, 1, -1, 2, 4, 3], [0, 1, -1, 3, 2, 4], [0, 1, -1, 3, 4, 2], [0, 1, -1, 4, 2, 3], [0, 1, -1, 4, 3, 2],
    [0, 2, 1, 3, 4, -1], [0, 2, 1, 3, -1, 4], [0, 2, 1, 4, 3, -1], [0, 2, 1, 4, -1, 3], [0, 2, 1, -1, 3, 4], [0, 2, 1, -1, 4, 3],
    [0, 2, 3, 1, 4, -1], [0, 2, 3, 1, -1, 4], [0, 2, 3, 4, 1, -1], [0, 2, 3, 4, -1, 1], [0, 2, 3, -1, 1, 4], [0, 2, 3, -1, 4, 1],
    [0, 2, 4, 1, 3, -1], [0, 2, 4, 1, -1, 3], [0, 2, 4, 3, 1, -1], [0, 2, 4, 3, -1, 1], [0, 2, 4, -1, 1, 3], [0, 2, 4, -1, 3, 1],
    [0, 2, -1, 1, 3, 4], [0, 2, -1, 1, 4, 3], [0, 2, -1, 3, 1, 4], [0, 2, -1, 3, 4, 1], [0, 2, -1, 4, 1, 3], [0, 2, -1, 4, 3, 1],
    [0, 3, 1, 2, 4, -1], [0, 3, 1, 2, -1, 4], [0, 3, 1, 4, 2, -1], [0, 3, 1, 4, -1, 2], [0, 3, 1, -1, 2, 4], [0, 3, 1, -1, 4, 2],
    [0, 3, 2, 1, 4, -1], [0, 3, 2, 1, -1, 4], [0, 3, 2, 4, 1, -1], [0, 3, 2, 4, -1, 1], [0, 3, 2, -1, 1, 4], [0, 3, 2, -1, 4, 1],
    [0, 3, 4, 1, 2, -1], [0, 3, 4, 1, -1, 2], [0, 3, 4, 2, 1, -1], [0, 3, 4, 2, -1, 1], [0, 3, 4, -1, 1, 2], [0, 3, 4, -1, 2, 1],
    [0, 3, -1, 1, 2, 4], [0, 3, -1, 1, 4, 2], [0, 3, -1, 2, 1, 4], [0, 3, -1, 2, 4, 1], [0, 3, -1, 4, 1, 2], [0, 3, -1, 4, 2, 1],
    [0, 4, 1, 2, 3, -1], [0, 4, 1, 2, -1, 3], [0, 4, 1, 3, 2, -1], [0, 4, 1, 3, -1, 2], [0, 4, 1, -1, 2, 3], [0, 4, 1, -1, 3, 2],
    [0, 4, 2, 1, 3, -1], [0, 4, 2, 1, -1, 3], [0, 4, 2, 3, 1, -1], [0, 4, 2, 3, -1, 1], [0, 4, 2, -1, 1, 3], [0, 4, 2, -1, 3, 1],
    [0, 4, 3, 1, 2, -1], [0, 4, 3, 1, -1, 2], [0, 4, 3, 2, 1, -1], [0, 4, 3, 2, -1, 1], [0, 4, 3, -1, 1, 2], [0, 4, 3, -1, 2, 1],
    [0, 4, -1, 1, 2, 3], [0, 4, -1, 1, 3, 2], [0, 4, -1, 2, 1, 3], [0, 4, -1, 2, 3, 1], [0, 4, -1, 3, 1, 2], [0, 4, -1, 3, 2, 1],
    [0, -1, 1, 2, 3, 4], [0, -1, 1, 2, 4, 3], [0, -1, 1, 3, 2, 4], [0, -1, 1, 3, 4, 2], [0, -1, 1, 4, 2, 3], [0, -1, 1, 4, 3, 2],
    [0, -1, 2, 1, 3, 4], [0, -1, 2, 1, 4, 3], [0, -1, 2, 3, 1, 4], [0, -1, 2, 3, 4, 1], [0, -1, 2, 4, 1, 3], [0, -1, 2, 4, 3, 1],
    [0, -1, 3, 1, 2, 4], [0, -1, 3, 1, 4, 2], [0, -1, 3, 2, 1, 4], [0, -1, 3, 2, 4, 1], [0, -1, 3, 4, 1, 2], [0, -1, 3, 4, 2, 1],
    [0, -1, 4, 1, 2, 3], [0, -1, 4, 1, 3, 2], [0, -1, 4, 2, 1, 3], [0, -1, 4, 2, 3, 1], [0, -1, 4, 3, 1, 2], [0, -1, 4, 3, 2, 1],
    [1, 0, 2, 3, 4, -1], [1, 0, 2, 3, -1, 4], [1, 0, 2, 4, 3, -1], [1, 0, 2, 4, -1, 3], [1, 0, 2, -1, 3, 4], [1, 0, 2, -1, 4, 3],
    [1, 0, 3, 2, 4, -1], [1, 0, 3, 2, -1, 4], [1, 0, 3, 4, 2, -1], [1, 0, 3, 4, -1, 2], [1, 0, 3, -1, 2, 4], [1, 0, 3, -1, 4, 2],
    [1, 0, 4, 2, 3, -1], [1, 0, 4, 2, -1, 3], [1, 0, 4, 3, 2, -1], [1, 0, 4, 3, -1, 2], [1, 0, 4, -1, 2, 3], [1, 0, 4, -1, 3, 2],
    [1, 0, -1, 2, 3, 4], [1, 0, -1, 2, 4, 3], [1, 0, -1, 3, 2, 4], [1, 0, -1, 3, 4, 2], [1, 0, -1, 4, 2, 3], [1, 0, -1, 4, 3, 2],
    [1, 2, 0, 3, 4, -1], [1, 2, 0, 3, -1, 4], [1, 2, 0, 4, 3, -1], [1, 2, 0, 4, -1, 3], [1, 2, 0, -1, 3, 4], [1, 2, 0, -1, 4, 3],
    [1, 2, 3, 0, 4, -1], [1, 2, 3, 0, -1, 4], [1, 2, 3, 4, 0, -1], [1, 2, 3, 4, -1, 0], [1, 2, 3, -1, 0, 4], [1, 2, 3, -1, 4, 0],
    [1, 2, 4, 0, 3, -1], [1, 2, 4, 0, -1, 3], [1, 2, 4, 3, 0, -1], [1, 2, 4, 3, -1, 0], [1, 2, 4, -1, 0, 3], [1, 2, 4, -1, 3, 0],
    [1, 2, -1, 0, 3, 4], [1, 2, -1, 0, 4, 3], [1, 2, -1, 3, 0, 4], [1, 2, -1, 3, 4, 0], [1, 2, -1, 4, 0, 3], [1, 2, -1, 4, 3, 0],
    [1, 3, 0, 2, 4, -1], [1, 3, 0, 2, -1, 4], [1, 3, 0, 4, 2, -1], [1, 3, 0, 4, -1, 2], [1, 3, 0, -1, 2, 4], [1, 3, 0, -1, 4, 2],
    [1, 3, 2, 0, 4, -1], [1, 3, 2, 0, -1, 4], [1, 3, 2, 4, 0, -1], [1, 3, 2, 4, -1, 0], [1, 3, 2, -1, 0, 4], [1, 3, 2, -1, 4, 0],
    [1, 3, 4, 0, 2, -1], [1, 3, 4, 0, -1, 2], [1, 3, 4, 2, 0, -1], [1, 3, 4, 2, -1, 0], [1, 3, 4, -1, 0, 2], [1, 3, 4, -1, 2, 0],
    [1, 3, -1, 0, 2, 4], [1, 3, -1, 0, 4, 2], [1, 3, -1, 2, 0, 4], [1, 3, -1, 2, 4, 0], [1, 3, -1, 4, 0, 2], [1, 3, -1, 4, 2, 0],
    [1, 4, 0, 2, 3, -1], [1, 4, 0, 2, -1, 3], [1, 4, 0, 3, 2, -1], [1, 4, 0, 3, -1, 2], [1, 4, 0, -1, 2, 3], [1, 4, 0, -1, 3, 2],
    [1, 4, 2, 0, 3, -1], [1, 4, 2, 0, -1, 3], [1, 4, 2, 3, 0, -1], [1, 4, 2, 3, -1, 0], [1, 4, 2, -1, 0, 3], [1, 4, 2, -1, 3, 0],
    [1, 4, 3, 0, 2, -1], [1, 4, 3, 0, -1, 2], [1, 4, 3, 2, 0, -1], [1, 4, 3, 2, -1, 0], [1, 4, 3, -1, 0, 2], [1, 4, 3, -1, 2, 0],
    [1, 4, -1, 0, 2, 3], [1, 4, -1, 0, 3, 2], [1, 4, -1, 2, 0, 3], [1, 4, -1, 2, 3, 0], [1, 4, -1, 3, 0, 2], [1, 4, -1, 3, 2, 0],
    [1, -1, 0, 2, 3, 4], [1, -1, 0, 2, 4, 3], [1, -1, 0, 3, 2, 4], [1, -1, 0, 3, 4, 2], [1, -1, 0, 4, 2, 3], [1, -1, 0, 4, 3, 2],
    [1, -1, 2, 0, 3, 4], [1, -1, 2, 0, 4, 3], [1, -1, 2, 3, 0, 4], [1, -1, 2, 3, 4, 0], [1, -1, 2, 4, 0, 3], [1, -1, 2, 4, 3, 0],
    [1, -1, 3, 0, 2, 4], [1, -1, 3, 0, 4, 2], [1, -1, 3, 2, 0, 4], [1, -1, 3, 2, 4, 0], [1, -1, 3, 4, 0, 2], [1, -1, 3, 4, 2, 0],
    [1, -1, 4, 0, 2, 3], [1, -1, 4, 0, 3, 2], [1, -1, 4, 2, 0, 3], [1, -1, 4, 2, 3, 0], [1, -1, 4, 3, 0, 2], [1, -1, 4, 3, 2, 0],
    [2, 0, 1, 3, 4, -1], [2, 0, 1, 3, -1, 4], [2, 0, 1, 4, 3, -1], [2, 0, 1, 4, -1, 3], [2, 0, 1, -1, 3, 4], [2, 0, 1, -1, 4, 3],
    [2, 0, 3, 1, 4, -1], [2, 0, 3, 1, -1, 4], [2, 0, 3, 4, 1, -1], [2, 0, 3, 4, -1, 1], [2, 0, 3, -1, 1, 4], [2, 0, 3, -1, 4, 1],
    [2, 0, 4, 1, 3, -1], [2, 0, 4, 1, -1, 3], [2, 0, 4, 3, 1, -1], [2, 0, 4, 3, -1, 1], [2, 0, 4, -1, 1, 3], [2, 0, 4, -1, 3, 1],
    [2, 0, -1, 1, 3, 4], [2, 0, -1, 1, 4, 3], [2, 0, -1, 3, 1, 4], [2, 0, -1, 3, 4, 1], [2, 0, -1, 4, 1, 3], [2, 0, -1, 4, 3, 1],
    [2, 1, 0, 3, 4, -1], [2, 1, 0, 3, -1, 4], [2, 1, 0, 4, 3, -1], [2, 1, 0, 4, -1, 3], [2, 1, 0, -1, 3, 4], [2, 1, 0, -1, 4, 3],
    [2, 1, 3, 0, 4, -1], [2, 1, 3, 0, -1, 4], [2, 1, 3, 4, 0, -1], [2, 1, 3, 4, -1, 0], [2, 1, 3, -1, 0, 4], [2, 1, 3, -1, 4, 0],
    [2, 1, 4, 0, 3, -1], [2, 1, 4, 0, -1, 3], [2, 1, 4, 3, 0, -1], [2, 1, 4, 3, -1, 0], [2, 1, 4, -1, 0, 3], [2, 1, 4, -1, 3, 0],
    [2, 1, -1, 0, 3, 4], [2, 1, -1, 0, 4, 3], [2, 1, -1, 3, 0, 4], [2, 1, -1, 3, 4, 0], [2, 1, -1, 4, 0, 3], [2, 1, -1, 4, 3, 0],
    [2, 3, 0, 1, 4, -1], [2, 3, 0, 1, -1, 4], [2, 3, 0, 4, 1, -1], [2, 3, 0, 4, -1, 1], [2, 3, 0, -1, 1, 4], [2, 3, 0, -1, 4, 1],
    [2, 3, 1, 0, 4, -1], [2, 3, 1, 0, -1, 4], [2, 3, 1, 4, 0, -1], [2, 3, 1, 4, -1, 0], [2, 3, 1, -1, 0, 4], [2, 3, 1, -1, 4, 0],
    [2, 3, 4, 0, 1, -1], [2, 3, 4, 0, -1, 1], [2, 3, 4, 1, 0, -1], [2, 3, 4, 1, -1, 0], [2, 3, 4, -1, 0, 1], [2, 3, 4, -1, 1, 0],
    [2, 3, -1, 0, 1, 4], [2, 3, -1, 0, 4, 1], [2, 3, -1, 1, 0, 4], [2, 3, -1, 1, 4, 0], [2, 3, -1, 4, 0, 1], [2, 3, -1, 4, 1, 0],
    [2, 4, 0, 1, 3, -1], [2, 4, 0, 1, -1, 3], [2, 4, 0, 3, 1, -1], [2, 4, 0, 3, -1, 1], [2, 4, 0, -1, 1, 3], [2, 4, 0, -1, 3, 1],
    [2, 4, 1, 0, 3, -1], [2, 4, 1, 0, -1, 3], [2, 4, 1, 3, 0, -1], [2, 4, 1, 3, -1, 0], [2, 4, 1, -1, 0, 3], [2, 4, 1, -1, 3, 0],
    [2, 4, 3, 0, 1, -1], [2, 4, 3, 0, -1, 1], [2, 4, 3, 1, 0, -1], [2, 4, 3, 1, -1, 0], [2, 4, 3, -1, 0, 1], [2, 4, 3, -1, 1, 0],
    [2, 4, -1, 0, 1, 3], [2, 4, -1, 0, 3, 1], [2, 4, -1, 1, 0, 3], [2, 4, -1, 1, 3, 0], [2, 4, -1, 3, 0, 1], [2, 4, -1, 3, 1, 0],
    [2, -1, 0, 1, 3, 4], [2, -1, 0, 1, 4, 3], [2, -1, 0, 3, 1, 4], [2, -1, 0, 3, 4, 1], [2, -1, 0, 4, 1, 3], [2, -1, 0, 4, 3, 1],
    [2, -1, 1, 0, 3, 4], [2, -1, 1, 0, 4, 3], [2, -1, 1, 3, 0, 4], [2, -1, 1, 3, 4, 0], [2, -1, 1, 4, 0, 3], [2, -1, 1, 4, 3, 0],
    [2, -1, 3, 0, 1, 4], [2, -1, 3, 0, 4, 1], [2, -1, 3, 1, 0, 4], [2, -1, 3, 1, 4, 0], [2, -1, 3, 4, 0, 1], [2, -1, 3, 4, 1, 0],
    [2, -1, 4, 0, 1, 3], [2, -1, 4, 0, 3, 1], [2, -1, 4, 1, 0, 3], [2, -1, 4, 1, 3, 0], [2, -1, 4, 3, 0, 1], [2, -1, 4, 3, 1, 0],
    [3, 0, 1, 2, 4, -1], [3, 0, 1, 2, -1, 4], [3, 0, 1, 4, 2, -1], [3, 0, 1, 4, -1, 2], [3, 0, 1, -1, 2, 4], [3, 0, 1, -1, 4, 2],
    [3, 0, 2, 1, 4, -1], [3, 0, 2, 1, -1, 4], [3, 0, 2, 4, 1, -1], [3, 0, 2, 4, -1, 1], [3, 0, 2, -1, 1, 4], [3, 0, 2, -1, 4, 1],
    [3, 0, 4, 1, 2, -1], [3, 0, 4, 1, -1, 2], [3, 0, 4, 2, 1, -1], [3, 0, 4, 2, -1, 1], [3, 0, 4, -1, 1, 2], [3, 0, 4, -1, 2, 1],
    [3, 0, -1, 1, 2, 4], [3, 0, -1, 1, 4, 2], [3, 0, -1, 2, 1, 4], [3, 0, -1, 2, 4, 1], [3, 0, -1, 4, 1, 2], [3, 0, -1, 4, 2, 1],
    [3, 1, 0, 2, 4, -1], [3, 1, 0, 2, -1, 4], [3, 1, 0, 4, 2, -1], [3, 1, 0, 4, -1, 2], [3, 1, 0, -1, 2, 4], [3, 1, 0, -1, 4, 2],
    [3, 1, 2, 0, 4, -1], [3, 1, 2, 0, -1, 4], [3, 1, 2, 4, 0, -1], [3, 1, 2, 4, -1, 0], [3, 1, 2, -1, 0, 4], [3, 1, 2, -1, 4, 0],
    [3, 1, 4, 0, 2, -1], [3, 1, 4, 0, -1, 2], [3, 1, 4, 2, 0, -1], [3, 1, 4, 2, -1, 0], [3, 1, 4, -1, 0, 2], [3, 1, 4, -1, 2, 0],
    [3, 1, -1, 0, 2, 4], [3, 1, -1, 0, 4, 2], [3, 1, -1, 2, 0, 4], [3, 1, -1, 2, 4, 0], [3, 1, -1, 4, 0, 2], [3, 1, -1, 4, 2, 0],
    [3, 2, 0, 1, 4, -1], [3, 2, 0, 1, -1, 4], [3, 2, 0, 4, 1, -1], [3, 2, 0, 4, -1, 1], [3, 2, 0, -1, 1, 4], [3, 2, 0, -1, 4, 1],
    [3, 2, 1, 0, 4, -1], [3, 2, 1, 0, -1, 4], [3, 2, 1, 4, 0, -1], [3, 2, 1, 4, -1, 0], [3, 2, 1, -1, 0, 4], [3, 2, 1, -1, 4, 0],
    [3, 2, 4, 0, 1, -1], [3, 2, 4, 0, -1, 1], [3, 2, 4, 1, 0, -1], [3, 2, 4, 1, -1, 0], [3, 2, 4, -1, 0, 1], [3, 2, 4, -1, 1, 0],
    [3, 2, -1, 0, 1, 4], [3, 2, -1, 0, 4, 1], [3, 2, -1, 1, 0, 4], [3, 2, -1, 1, 4, 0], [3, 2, -1, 4, 0, 1], [3, 2, -1, 4, 1, 0],
    [3, 4, 0, 1, 2, -1], [3, 4, 0, 1, -1, 2], [3, 4, 0, 2, 1, -1], [3, 4, 0, 2, -1, 1], [3, 4, 0, -1, 1, 2], [3, 4, 0, -1, 2, 1],
    [3, 4, 1, 0, 2, -1], [3, 4, 1, 0, -1, 2], [3, 4, 1, 2, 0, -1], [3, 4, 1, 2, -1, 0], [3, 4, 1, -1, 0, 2], [3, 4, 1, -1, 2, 0],
    [3, 4, 2, 0, 1, -1], [3, 4, 2, 0, -1, 1], [3, 4, 2, 1, 0, -1], [3, 4, 2, 1, -1, 0], [3, 4, 2, -1, 0, 1], [3, 4, 2, -1, 1, 0],
    [3, 4, -1, 0, 1, 2], [3, 4, -1, 0, 2, 1], [3, 4, -1, 1, 0, 2], [3, 4, -1, 1, 2, 0], [3, 4, -1, 2, 0, 1], [3, 4, -1, 2, 1, 0],
    [3, -1, 0, 1, 2, 4], [3, -1, 0, 1, 4, 2], [3, -1, 0, 2, 1, 4], [3, -1, 0, 2, 4, 1], [3, -1, 0, 4, 1, 2], [3, -1, 0, 4, 2, 1],
    [3, -1, 1, 0, 2, 4], [3, -1, 1, 0, 4, 2], [3, -1, 1, 2, 0, 4], [3, -1, 1, 2, 4, 0], [3, -1, 1, 4, 0, 2], [3, -1, 1, 4, 2, 0],
    [3, -1, 2, 0, 1, 4], [3, -1, 2, 0, 4, 1], [3, -1, 2, 1, 0, 4], [3, -1, 2, 1, 4, 0], [3, -1, 2, 4, 0, 1], [3, -1, 2, 4, 1, 0],
    [3, -1, 4, 0, 1, 2], [3, -1, 4, 0, 2, 1], [3, -1, 4, 1, 0, 2], [3, -1, 4, 1, 2, 0], [3, -1, 4, 2, 0, 1], [3, -1, 4, 2, 1, 0],
    [4, 0, 1, 2, 3, -1], [4, 0, 1, 2, -1, 3], [4, 0, 1, 3, 2, -1], [4, 0, 1, 3, -1, 2], [4, 0, 1, -1, 2, 3], [4, 0, 1, -1, 3, 2],
    [4, 0, 2, 1, 3, -1], [4, 0, 2, 1, -1, 3], [4, 0, 2, 3, 1, -1], [4, 0, 2, 3, -1, 1], [4, 0, 2, -1, 1, 3], [4, 0, 2, -1, 3, 1],
    [4, 0, 3, 1, 2, -1], [4, 0, 3, 1, -1, 2], [4, 0, 3, 2, 1, -1], [4, 0, 3, 2, -1, 1], [4, 0, 3, -1, 1, 2], [4, 0, 3, -1, 2, 1],
    [4, 0, -1, 1, 2, 3], [4, 0, -1, 1, 3, 2], [4, 0, -1, 2, 1, 3], [4, 0, -1, 2, 3, 1], [4, 0, -1, 3, 1, 2], [4, 0, -1, 3, 2, 1],
    [4, 1, 0, 2, 3, -1], [4, 1, 0, 2, -1, 3], [4, 1, 0, 3, 2, -1], [4, 1, 0, 3, -1, 2], [4, 1, 0, -1, 2, 3], [4, 1, 0, -1, 3, 2],
    [4, 1, 2, 0, 3, -1], [4, 1, 2, 0, -1, 3], [4, 1, 2, 3, 0, -1], [4, 1, 2, 3, -1, 0], [4, 1, 2, -1, 0, 3], [4, 1, 2, -1, 3, 0],
    [4, 1, 3, 0, 2, -1], [4, 1, 3, 0, -1, 2], [4, 1, 3, 2, 0, -1], [4, 1, 3, 2, -1, 0], [4, 1, 3, -1, 0, 2], [4, 1, 3, -1, 2, 0],
    [4, 1, -1, 0, 2, 3], [4, 1, -1, 0, 3, 2], [4, 1, -1, 2, 0, 3], [4, 1, -1, 2, 3, 0], [4, 1, -1, 3, 0, 2], [4, 1, -1, 3, 2, 0],
    [4, 2, 0, 1, 3, -1], [4, 2, 0, 1, -1, 3], [4, 2, 0, 3, 1, -1], [4, 2, 0, 3, -1, 1], [4, 2, 0, -1, 1, 3], [4, 2, 0, -1, 3, 1],
    [4, 2, 1, 0, 3, -1], [4, 2, 1, 0, -1, 3], [4, 2, 1, 3, 0, -1], [4, 2, 1, 3, -1, 0], [4, 2, 1, -1, 0, 3], [4, 2, 1, -1, 3, 0],
    [4, 2, 3, 0, 1, -1], [4, 2, 3, 0, -1, 1], [4, 2, 3, 1, 0, -1], [4, 2, 3, 1, -1, 0], [4, 2, 3, -1, 0, 1], [4, 2, 3, -1, 1, 0],
    [4, 2, -1, 0, 1, 3], [4, 2, -1, 0, 3, 1], [4, 2, -1, 1, 0, 3], [4, 2, -1, 1, 3, 0], [4, 2, -1, 3, 0, 1], [4, 2, -1, 3, 1, 0],
    [4, 3, 0, 1, 2, -1], [4, 3, 0, 1, -1, 2], [4, 3, 0, 2, 1, -1], [4, 3, 0, 2, -1, 1], [4, 3, 0, -1, 1, 2], [4, 3, 0, -1, 2, 1],
    [4, 3, 1, 0, 2, -1], [4, 3, 1, 0, -1, 2], [4, 3, 1, 2, 0, -1], [4, 3, 1, 2, -1, 0], [4, 3, 1, -1, 0, 2], [4, 3, 1, -1, 2, 0],
    [4, 3, 2, 0, 1, -1], [4, 3, 2, 0, -1, 1], [4, 3, 2, 1, 0, -1], [4, 3, 2, 1, -1, 0], [4, 3, 2, -1, 0, 1], [4, 3, 2, -1, 1, 0],
    [4, 3, -1, 0, 1, 2], [4, 3, -1, 0, 2, 1], [4, 3, -1, 1, 0, 2], [4, 3, -1, 1, 2, 0], [4, 3, -1, 2, 0, 1], [4, 3, -1, 2, 1, 0],
    [4, -1, 0, 1, 2, 3], [4, -1, 0, 1, 3, 2], [4, -1, 0, 2, 1, 3], [4, -1, 0, 2, 3, 1], [4, -1, 0, 3, 1, 2], [4, -1, 0, 3, 2, 1],
    [4, -1, 1, 0, 2, 3], [4, -1, 1, 0, 3, 2], [4, -1, 1, 2, 0, 3], [4, -1, 1, 2, 3, 0], [4, -1, 1, 3, 0, 2], [4, -1, 1, 3, 2, 0],
    [4, -1, 2, 0, 1, 3], [4, -1, 2, 0, 3, 1], [4, -1, 2, 1, 0, 3], [4, -1, 2, 1, 3, 0], [4, -1, 2, 3, 0, 1], [4, -1, 2, 3, 1, 0],
    [4, -1, 3, 0, 1, 2], [4, -1, 3, 0, 2, 1], [4, -1, 3, 1, 0, 2], [4, -1, 3, 1, 2, 0], [4, -1, 3, 2, 0, 1], [4, -1, 3, 2, 1, 0],
    [-1, 0, 1, 2, 3, 4], [-1, 0, 1, 2, 4, 3], [-1, 0, 1, 3, 2, 4], [-1, 0, 1, 3, 4, 2], [-1, 0, 1, 4, 2, 3], [-1, 0, 1, 4, 3, 2],
    [-1, 0, 2, 1, 3, 4], [-1, 0, 2, 1, 4, 3], [-1, 0, 2, 3, 1, 4], [-1, 0, 2, 3, 4, 1], [-1, 0, 2, 4, 1, 3], [-1, 0, 2, 4, 3, 1],
    [-1, 0, 3, 1, 2, 4], [-1, 0, 3, 1, 4, 2], [-1, 0, 3, 2, 1, 4], [-1, 0, 3, 2, 4, 1], [-1, 0, 3, 4, 1, 2], [-1, 0, 3, 4, 2, 1],
    [-1, 0, 4, 1, 2, 3], [-1, 0, 4, 1, 3, 2], [-1, 0, 4, 2, 1, 3], [-1, 0, 4, 2, 3, 1], [-1, 0, 4, 3, 1, 2], [-1, 0, 4, 3, 2, 1],
    [-1, 1, 0, 2, 3, 4], [-1, 1, 0, 2, 4, 3], [-1, 1, 0, 3, 2, 4], [-1, 1, 0, 3, 4, 2], [-1, 1, 0, 4, 2, 3], [-1, 1, 0, 4, 3, 2],
    [-1, 1, 2, 0, 3, 4], [-1, 1, 2, 0, 4, 3], [-1, 1, 2, 3, 0, 4], [-1, 1, 2, 3, 4, 0], [-1, 1, 2, 4, 0, 3], [-1, 1, 2, 4, 3, 0],
    [-1, 1, 3, 0, 2, 4], [-1, 1, 3, 0, 4, 2], [-1, 1, 3, 2, 0, 4], [-1, 1, 3, 2, 4, 0], [-1, 1, 3, 4, 0, 2], [-1, 1, 3, 4, 2, 0],
    [-1, 1, 4, 0, 2, 3], [-1, 1, 4, 0, 3, 2], [-1, 1, 4, 2, 0, 3], [-1, 1, 4, 2, 3, 0], [-1, 1, 4, 3, 0, 2], [-1, 1, 4, 3, 2, 0],
    [-1, 2, 0, 1, 3, 4], [-1, 2, 0, 1, 4, 3], [-1, 2, 0, 3, 1, 4], [-1, 2, 0, 3, 4, 1], [-1, 2, 0, 4, 1, 3], [-1, 2, 0, 4, 3, 1],
    [-1, 2, 1, 0, 3, 4], [-1, 2, 1, 0, 4, 3], [-1, 2, 1, 3, 0, 4], [-1, 2, 1, 3, 4, 0], [-1, 2, 1, 4, 0, 3], [-1, 2, 1, 4, 3, 0],
    [-1, 2, 3, 0, 1, 4], [-1, 2, 3, 0, 4, 1], [-1, 2, 3, 1, 0, 4], [-1, 2, 3, 1, 4, 0], [-1, 2, 3, 4, 0, 1], [-1, 2, 3, 4, 1, 0],
    [-1, 2, 4, 0, 1, 3], [-1, 2, 4, 0, 3, 1], [-1, 2, 4, 1, 0, 3], [-1, 2, 4, 1, 3, 0], [-1, 2, 4, 3, 0, 1], [-1, 2, 4, 3, 1, 0],
    [-1, 3, 0, 1, 2, 4], [-1, 3, 0, 1, 4, 2], [-1, 3, 0, 2, 1, 4], [-1, 3, 0, 2, 4, 1], [-1, 3, 0, 4, 1, 2], [-1, 3, 0, 4, 2, 1],
    [-1, 3, 1, 0, 2, 4], [-1, 3, 1, 0, 4, 2], [-1, 3, 1, 2, 0, 4], [-1, 3, 1, 2, 4, 0], [-1, 3, 1, 4, 0, 2], [-1, 3, 1, 4, 2, 0],
    [-1, 3, 2, 0, 1, 4], [-1, 3, 2, 0, 4, 1], [-1, 3, 2, 1, 0, 4], [-1, 3, 2, 1, 4, 0], [-1, 3, 2, 4, 0, 1], [-1, 3, 2, 4, 1, 0],
    [-1, 3, 4, 0, 1, 2], [-1, 3, 4, 0, 2, 1], [-1, 3, 4, 1, 0, 2], [-1, 3, 4, 1, 2, 0], [-1, 3, 4, 2, 0, 1], [-1, 3, 4, 2, 1, 0],
    [-1, 4, 0, 1, 2, 3], [-1, 4, 0, 1, 3, 2], [-1, 4, 0, 2, 1, 3], [-1, 4, 0, 2, 3, 1], [-1, 4, 0, 3, 1, 2], [-1, 4, 0, 3, 2, 1],
    [-1, 4, 1, 0, 2, 3], [-1, 4, 1, 0, 3, 2], [-1, 4, 1, 2, 0, 3], [-1, 4, 1, 2, 3, 0], [-1, 4, 1, 3, 0, 2], [-1, 4, 1, 3, 2, 0],
    [-1, 4, 2, 0, 1, 3], [-1, 4, 2, 0, 3, 1], [-1, 4, 2, 1, 0, 3], [-1, 4, 2, 1, 3, 0], [-1, 4, 2, 3, 0, 1], [-1, 4, 2, 3, 1, 0],
    [-1, 4, 3, 0, 1, 2], [-1, 4, 3, 0, 2, 1], [-1, 4, 3, 1, 0, 2], [-1, 4, 3, 1, 2, 0], [-1, 4, 3, 2, 0, 1], [-1, 4, 3, 2, 1, 0]
]

# ==========================================
# 2. GENERATOR LOGIC
# ==========================================

def generate_yaml_files():
    
    os.makedirs(OUTPUT_DIR, exist_ok=True)
    print(f"Generating YAML files in '{OUTPUT_DIR}'...\n")

    # Group maps by their first element (index 0)
    # The keys will be: -1, 0, 1, 2, 3, 4
    grouped_maps = {}

    for map_config in ALL_MAPS:
        first_val = map_config[0]
        if first_val not in grouped_maps:
            grouped_maps[first_val] = []
        grouped_maps[first_val].append(map_config)

    count = 0
    
    # Iterate over the groups (sorted just for tidy filenames)
    for first_val in sorted(grouped_maps.keys()):
        
        # Define filename: e.g. "map_start_0.yml", "map_start_minus1.yml"
        # We replace -1 with 'neg1' or just keep it as is. 
        # Using string replacement for clarity if desired.
        val_str = str(first_val).replace("-1", "neg1")
        filename = f"map_start_{val_str}.yml"
        filepath = os.path.join(OUTPUT_DIR, filename)

        experiment_list = []
        
        # For every map in this group, create an experiment entry
        for specific_map in grouped_maps[first_val]:
            
            # Combine Fixed params + the specific map
            full_entry = {**FIXED_PARAMS}
            full_entry["map"] = specific_map
            
            experiment_list.append(full_entry)

        # Write to YAML
        with open(filepath, "w") as f:
            yaml.dump(experiment_list, f, default_flow_style=None, sort_keys=False)

        print(f" -> Created: {filename} ({len(experiment_list)} experiments)")
        count += 1

    print(f"\nDone! Generated {count} files containing {len(ALL_MAPS)} total experiments.")

if __name__ == "__main__":
    generate_yaml_files()